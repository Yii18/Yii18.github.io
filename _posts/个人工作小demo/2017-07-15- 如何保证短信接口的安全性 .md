---
layout: blog
book: true
background-image: https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3896802976,709729553&fm=27&gp=0.jpg
category: 个人工作demo
date: 2017-07-15 20:50
title: 如何保证短信接口的安全性 
tags:
- 个人工作demo
- book
- PHP
- redis
---
> 1 设置请求 短信接口的次数 2 相同号码的请求次数一天不能超过 6 次 3 添加验证 4 接口连接的 加密 
>
>1.首先要确保注册信息完整且所有选项进行填选再发送短信。 2.限制同一电话发送的请求时间，一般（60-120）左右。 3.对同一电话进行最大请求次数。 4.对ip进行请求限制。 
>判断是不是同一个ip和同一个手机号，在第二次发送短信验证码要间隔时间。 :mrgreen:
>
>1开启手机保护及验证短信是否为垃圾垃圾短信等 2绑定服务器IP，供应商的短信验证码接口只识别客户的绑定是否与服务器IP一致， 3 限制手机号接受单个网页验证的次数为2次，超过两次则需要第二天才能接受验证码 4 设置手机接受验证码后必须在规定时间内输入验证码，否则验证码超过时间后过期而不被验证
>保护短信接口的安全。我们应该先清楚短信接口面对这哪些威胁，最主要的呢，就是类似于“呼死你”这样无限次调用短信接口的恶意软件。 这样的软件，往往是笨拙的。用身份验证和验证码两种办法就能够很好的解决。但是呢，往往“道高一尺，魔高一丈”，很多恶意软件也能够对验证码进行识别或者读取。所以我们可以用动态验证码，甚至语音验证码。 除了防护之外，我们甚至可以主动一点。通过该软件访问我们接口时产生的日志，获取该软件的IP，通过封IP来保证我们接口的安全。 当然，也有技术非常厉害的恶意软件，使用肉鸡，shadowsocks这样的代理，或者VPN换一个IP这样的方法无法让人获得他的真实IP。 这种方法可以参考知乎上的一个人给出的解决方案。 “第一种的话，很可能有 X-Forward-For 段，可以检测一下，第二、第三种的话，貌似没什么好办法检测。不过可以考虑检测该 IP 之前是否有访问过网站(App)，如果没有的话基本可以确认是攻击者的 IP 。检测到后直接忽略掉该请求，但是还是要返回发送成功的信息，不要返回错误信息给攻击者，不然对方会改变攻击策略。” ...就酱 
>
>1.首先要确保注册信息完整且所有选项进行填选再发送短信。 2.限制同一电话发送的请求时间，一般（60-120）左右。 3.对同一电话进行最大请求次数。 4.对ip进行请求限制。(diaobudiao)! 
> 1、添加滑动图片验证码，图形验证码成功以后才能触发短信，这样可以有效的防止恶意调用短信接口； 2、设定向每个手机号每天的最大发送量，并设定发送的时间间隔； 3、设置短信发送时间间隔，判断发送短信的IP，同一个IP有发送短信的时间间隔和短信发送量；
回复

>
>1、设置短信过期时间，比如说60秒后失效。必须重新生成！！ 2、生成的验证码进行加密处理，比如说生成的验证码乘以多少再减去多少等等，可以增加一定的验证码被破解的几率。 3、应该没有绝对的安全，道高一尺魔高一丈嘛 
>
>一个手机号给它设定一定时间内可以接收到短信的次数 
>
>1、绑定服务器IP，供应商的短信验证码接口只能识别客户的绑定服务器，否则会报错 2、给手机号设定一个时间段 在这个时间段内可以接受短信的次数 3、用户填好所有的个人信息才可以触发，注册资料不完善不可以发送 4、将图形校验码和手机验证码进行绑定，当用户输入手机号码以后，需要输入图形校验码才可以触发短信 
>
>关于短信接口安全性： 无非就是短息发送频繁，认为恶意点击，或者有些软件恶意请求接口 比如用户注册发送验证码，首先会有一个数据表，同一个电话号不能频繁发送请求，设置一个时间间隔 或者限制客户端ip，每天只能发送几条短信 在发送短信之前给一个图形验证码验证，通过之后才可以发短信，这样就会有一个时间的间隔了 再或者 前端使用js 限制点击送短信的按钮，点击一次后，就不能再次点击，时间过后才能再次点击 等等方法都可以实现点击频繁，给接口服务器带来的危害 
>
>1）、调用接口发送验证码的时候需要生成一个签名，此签名自行配置（手机号为唯一标识） 签名验证不通过 无法发送短信 这样就避免了有人恶意直接调用接口批量发送短信 2）、.同一手机号发送次数做限制 
>
>使用验证码接入接口，验证码不符合就不能接入接口。
>
>短信接口安全性问题： 短信接口大部分的安全问题，还是出现在被恶意调用泄露用户信息这些方面，通过搜索和查阅资料有以下几点防护的措施，仅供参考： 1，搭配图文验证码，在调用短信接口前，配备图文验证码或者滑动验证码，这样可以防止机器语言的攻击（不包括人为触发）。 2，限制同手机号码的发送次数，例如限制同手机号下每分钟只能发一次，一天只能发6次，次数可以结合综合需求来确定。 3，限制IP，设置同一IP的调用次数，或者只识别客户绑定的服务器IP。 4，手机号严格正则，统计号码段，统计非法号码，禁止号码段。 
>
>设置短信发送间隔时间，对同一号码设置时间间隔，一般是60秒到120秒，2限定IP，限制每个IP每天最大发送量，等等。 
>
>确定用什么短信接口协议，如果是开发，建议用smpp短信接口协议 2、可以将短信发送次数设置上限，避免攻击 有的我就不说了 
>
>设置同一号码重复发送的时间间隔。2设置每个IP每天的最大发送量。3、设置每个手机号码每天的最大发送量。
>
>在发送动态短信之前添加服务器端生成的、单次有效的、随机分配的图形验证码。防止动态功能的自动化调用（类似骂人小工具）。由于图形验证码走服务器，所以当忽略掉验证错误的时候，不停的刷新请求服务器也会对服务器造成一定的压力，所以要同时设置单个ip发送图形验证一段时间内的的次数，如果超过次数就禁止访问。 2.目前很多用的是限制时间60s，规定的时间只能发送一次验证码。 3.还有拖动验证，服务器端生成随机的拖动图片，随机的指定拖动匹配的位置，也更加有效； 4.生成一个图片，随机指定图片上的一个位置，用户去点，总之各种随机； 	
>
>限制短信发送次数,同一Ip某个时间段所能发送的次数。 添加验证码（点击图片，数字中英文结合） 
>
>1.绑定服务器IP。 2.设置验证码，设置验证码发送次数和时间间隔，验证码不能一致。3，在其他信息填写成功后再进行短信验证。 😛 
