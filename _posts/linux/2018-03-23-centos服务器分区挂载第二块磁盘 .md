---
layout: blog
istop: true
category: linux
title: "centos服务器分区挂载第二块磁盘 "
background-image: https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1059055272,515505031&fm=27&gp=0.jpg
date:  2018-03-23
tags:
- linux
- mysql
- 索引优化
- 服务器架构
---

>很多客户和朋友反映安装配置好环境用一段时间发现磁盘容量满了，不够用。尤其是像阿里云腾讯云和星外系统开的云主机这个情况最多。
经过登陆服务器检测发现环境自动安装到跑系统的磁盘容量里面了。数据盘没用，也就是数据磁盘没挂载。

>为什么云主机分系统盘和数据库盘？
>这个给大家简单介绍下
>一方面是系统和磁盘分开卖，系统盘和数据盘可以单独选择磁盘类型 ssd 和普通磁盘。系统跑ssd会更快但是价格稍贵，这根据自己的需要选择。
>第二个方面是，系统故障崩溃的时候重做系统只格式化系统盘，这样一来数据盘是安全的，装好系统之后挂载磁盘即可。
>上面是小插曲，接下来我就给大家演示下如何挂载分区数据盘（我拿郑州一株网络科技有限公司的vps来操作，他们公司用的是星外系统开的）

>1：首先我们用常用的xshell来登陆服务器
输入fdisk -l 命令查看数据盘的盘符
发现有磁盘Disk /dev/sdb （请注意如果没有此教程不适合您，或者服务器商没配置请和服务器商联系）
>2：开始对数据盘分区
执行“fdisk /dev/sdb”命令，对数据盘进行分区； 注意：阿里云腾讯云盘符通常是 xvdb 分区方法类似
###根据提示，依次输入“n”，“p”“1”，两次回车，“wq”，分区就开始了，很快就会完成。
>3：分区完成我们检查下用命令 fdisk -l 查看有分区
>4：分区完成我们来格式化分区
>用命令mkfs.ext3 /dev/sdb1 注意：阿里云腾讯云盘符通常是 xvdb1 分区方法类似
>其中ext3是格式也可以用ext4 这个根据需要，没特殊要求按照我的教程来即可

>5：下面我们来建立目录和挂载分区到目录
>这个我要说下，这是Linux系统和windows的重大不同，windows是盘符形式，Linux是文件夹显示的形式来显示分区。
>我们只需把文件夹名字和分区关联起来即可。
>我们用命令mkdir /www
>使用echo ‘/dev/sdb1 /www ext3 defaults 0 0’ >> /etc/fstab命令写入新分区信息。
>这个非常重要，是设置的任务，开机自动挂载，否则开机识别不了数据盘
>然后使用“cat/etc/fstab”命令查看，出现以下信息就表示写入成功。（其中的www为把数据盘单独挂载到文件夹。如果需要挂载到其他的目录，则修改www为其他文件夹名称。）
>然后挂载关联www 和sdb1
>5：使用“mount -a”命令挂载新分区，然后用“df -h”命令查看，出现以下信息就说明挂载成功，可以开始使用新的分区了
